name: avd-demo
prefix: ""
mgmt:
  ipv4-subnet: 192.168.0.0/24
topology:
  kinds:
    arista_ceos:
      image: ceos:4.34.2F
      env:
        CLAB_MGMT_VRF: mgmt
      startup-config: config/eos/default_startup.cfg
    linux:
        image: avd/alpine:3.19.7
  groups:
    spine:
      kind: arista_ceos
      binds:
        - config/eos/EosIntfMapping/DCS-7050CX3-32S.json:/mnt/flash/EosIntfMapping.json:ro
    leaf:
      kind: arista_ceos
      binds:
        - config/eos/EosIntfMapping/DCS-7050SX3-48YC8.json:/mnt/flash/EosIntfMapping.json:ro
    border:
      kind: arista_ceos
      binds:
        - config/eos/EosIntfMapping/DCS-7280SR3-48YC8.json:/mnt/flash/EosIntfMapping.json:ro
    server:
      kind: linux
  nodes:
  # site 1
    s1-spine1:
      group: spine
    s1-spine2:
      group: spine
    s1-leaf1:
      group: leaf
    s1-leaf2:
      group: leaf
    s1-leaf3:
      group: leaf
    s1-leaf4:
      group: leaf
    s1-brdr1:
      group: border
    s1-brdr2:
      group: border
    s1-host1:
      group: server
    s1-host2:
      group: server
  # site 2
    s2-spine1:
      group: spine
    s2-spine2:
      group: spine
    s2-leaf1:
      group: leaf
    s2-leaf2:
      group: leaf
    s2-leaf3:
      group: leaf
    s2-leaf4:
      group: leaf
    s2-brdr1:
      group: border
    s2-brdr2:
      group: border
    s2-host1:
      group: server
    s2-host2:
      group: server
  links:
  # site 1
  ## mlag links
  - endpoints: ["s1-spine1:eth1", "s1-spine2:eth1"]
  - endpoints: ["s1-spine1:eth6", "s1-spine2:eth6"]
  - endpoints: ["s1-leaf1:eth1", "s1-leaf2:eth1"]
  - endpoints: ["s1-leaf1:eth6", "s1-leaf2:eth6"]
  - endpoints: ["s1-leaf3:eth1", "s1-leaf4:eth1"]
  - endpoints: ["s1-leaf3:eth6", "s1-leaf4:eth6"]
  ## fabric links
  - endpoints: ["s1-spine1:eth2", "s1-leaf1:eth2"]
  - endpoints: ["s1-spine1:eth3", "s1-leaf2:eth2"]
  - endpoints: ["s1-spine1:eth4", "s1-leaf3:eth2"]
  - endpoints: ["s1-spine1:eth5", "s1-leaf4:eth2"]
  - endpoints: ["s1-spine1:eth7", "s1-brdr1:eth2"]
  - endpoints: ["s1-spine1:eth8", "s1-brdr2:eth2"]

  - endpoints: ["s1-spine2:eth2", "s1-leaf1:eth3"]
  - endpoints: ["s1-spine2:eth3", "s1-leaf2:eth3"]
  - endpoints: ["s1-spine2:eth4", "s1-leaf3:eth3"]
  - endpoints: ["s1-spine2:eth5", "s1-leaf4:eth3"]
  - endpoints: ["s1-spine2:eth7", "s1-brdr1:eth3"]
  - endpoints: ["s1-spine2:eth8", "s1-brdr2:eth3"]
  ## server links
  - endpoints: ["s1-leaf1:eth4", "s1-host1:eth1"]
  - endpoints: ["s1-leaf2:eth4", "s1-host1:eth2"]
  - endpoints: ["s1-leaf3:eth4", "s1-host2:eth1"]
  - endpoints: ["s1-leaf4:eth4", "s1-host2:eth2"]

# site 2
## mlag links
  - endpoints: ["s2-spine1:eth1", "s2-spine2:eth1"]
  - endpoints: ["s2-spine1:eth6", "s2-spine2:eth6"]
  - endpoints: ["s2-leaf1:eth1", "s2-leaf2:eth1"]
  - endpoints: ["s2-leaf1:eth6", "s2-leaf2:eth6"]
  - endpoints: ["s2-leaf3:eth1", "s2-leaf4:eth1"]
  - endpoints: ["s2-leaf3:eth6", "s2-leaf4:eth6"]
## fabric links
  - endpoints: ["s2-spine1:eth2", "s2-leaf1:eth2"]
  - endpoints: ["s2-spine1:eth3", "s2-leaf2:eth2"]
  - endpoints: ["s2-spine1:eth4", "s2-leaf3:eth2"]
  - endpoints: ["s2-spine1:eth5", "s2-leaf4:eth2"]
  - endpoints: ["s2-spine1:eth7", "s2-brdr1:eth2"]
  - endpoints: ["s2-spine1:eth8", "s2-brdr2:eth2"]

  - endpoints: ["s2-spine2:eth2", "s2-leaf1:eth3"]
  - endpoints: ["s2-spine2:eth3", "s2-leaf2:eth3"]
  - endpoints: ["s2-spine2:eth4", "s2-leaf3:eth3"]
  - endpoints: ["s2-spine2:eth5", "s2-leaf4:eth3"]
  - endpoints: ["s2-spine2:eth7", "s2-brdr1:eth3"]
  - endpoints: ["s2-spine2:eth8", "s2-brdr2:eth3"]
  ## server links
  - endpoints: ["s2-leaf1:eth4", "s2-host1:eth1"]
  - endpoints: ["s2-leaf2:eth4", "s2-host1:eth2"]
  - endpoints: ["s2-leaf3:eth4", "s2-host2:eth1"]
  - endpoints: ["s2-leaf4:eth4", "s2-host2:eth2"]

# dci links
  - endpoints: ["s1-brdr1:eth4", "s2-brdr1:eth4"]
  - endpoints: ["s1-brdr2:eth4", "s2-brdr2:eth4"]





