name: avd-demo
prefix: ""
mgmt:
  ipv4-subnet: 192.168.0.0/24
topology:
  kinds:
    arista_ceos:
      image: ceos:4.34.2F
  nodes:
  # site 1
    s1-spine1:
      kind: arista_ceos
      group: spine
    s1-spine2:
      kind: arista_ceos
      group: spine
    s1-leaf1:
      kind: arista_ceos
      group: leaf
    s1-leaf2:
      kind: arista_ceos
      group: leaf
    s1-leaf3:
      kind: arista_ceos
      group: leaf
    s1-leaf4:
      kind: arista_ceos
      group: leaf
    s1-brdr1:
      kind: arista_ceos
      group: leaf
    s1-brdr2:
      kind: arista_ceos
      group: leaf
    s1-host1:
      kind: arista_ceos
      group: servers
    s1-host2:
      kind: arista_ceos
      group: servers
  # site 2
    s2-spine1:
      kind: arista_ceos
      group: spine
    s2-spine2:
      kind: arista_ceos
      group: spine
    s2-leaf1:
      kind: arista_ceos
      group: leaf
    s2-leaf2:
      kind: arista_ceos
      group: leaf
    s2-leaf3:
      kind: arista_ceos
      group: leaf
    s2-leaf4:
      kind: arista_ceos
      group: leaf
    s2-brdr1:
      kind: arista_ceos
      group: leaf
    s2-brdr2:
      kind: arista_ceos
      group: leaf
    s2-host1:
      kind: arista_ceos
      group: servers
    s2-host2:
      kind: arista_ceos
      group: servers
  links:
  # site 1
  ## mlag links
  - endpoints: ["s1-spine1:eth1", "s1-spine2:eth1"]
  - endpoints: ["s1-spine1:eth6", "s1-spine2:eth6"]
  - endpoints: ["s1-leaf1:eth1", "s1-leaf2:eth1"]
  - endpoints: ["s1-leaf1:eth6", "s1-leaf2:eth6"]
  - endpoints: ["s1-leaf3:eth1", "s1-leaf4:eth1"]
  - endpoints: ["s1-leaf3:eth6", "s1-leaf4:eth6"]
  ## fabric links
  - endpoints: ["s1-spine1:eth2", "s1-leaf1:eth2"]
  - endpoints: ["s1-spine1:eth3", "s1-leaf2:eth2"]
  - endpoints: ["s1-spine1:eth4", "s1-leaf3:eth2"]
  - endpoints: ["s1-spine1:eth5", "s1-leaf4:eth2"]
  - endpoints: ["s1-spine1:eth7", "s1-brdr1:eth2"]
  - endpoints: ["s1-spine1:eth8", "s1-brdr2:eth2"]

  - endpoints: ["s1-spine2:eth2", "s1-leaf1:eth3"]
  - endpoints: ["s1-spine2:eth3", "s1-leaf2:eth3"]
  - endpoints: ["s1-spine2:eth4", "s1-leaf3:eth3"]
  - endpoints: ["s1-spine2:eth5", "s1-leaf4:eth3"]
  - endpoints: ["s1-spine2:eth7", "s1-brdr1:eth3"]
  - endpoints: ["s1-spine2:eth8", "s1-brdr2:eth3"]
  ## server links
  - endpoints: ["s1-leaf1:eth4", "s1-host1:eth1"]
  - endpoints: ["s1-leaf2:eth4", "s1-host1:eth2"]
  - endpoints: ["s1-leaf3:eth4", "s1-host2:eth1"]
  - endpoints: ["s1-leaf4:eth4", "s1-host2:eth2"]

# site 2
## mlag links
  - endpoints: ["s2-spine1:eth1", "s2-spine2:eth1"]
  - endpoints: ["s2-spine1:eth6", "s2-spine2:eth6"]
  - endpoints: ["s2-leaf1:eth1", "s2-leaf2:eth1"]
  - endpoints: ["s2-leaf1:eth6", "s2-leaf2:eth6"]
  - endpoints: ["s2-leaf3:eth1", "s2-leaf4:eth1"]
  - endpoints: ["s2-leaf3:eth6", "s2-leaf4:eth6"]
## fabric links
  - endpoints: ["s2-spine1:eth2", "s2-leaf1:eth2"]
  - endpoints: ["s2-spine1:eth3", "s2-leaf2:eth2"]
  - endpoints: ["s2-spine1:eth4", "s2-leaf3:eth2"]
  - endpoints: ["s2-spine1:eth5", "s2-leaf4:eth2"]
  - endpoints: ["s2-spine1:eth7", "s2-brdr1:eth2"]
  - endpoints: ["s2-spine1:eth8", "s2-brdr2:eth2"]

  - endpoints: ["s2-spine2:eth2", "s2-leaf1:eth3"]
  - endpoints: ["s2-spine2:eth3", "s2-leaf2:eth3"]
  - endpoints: ["s2-spine2:eth4", "s2-leaf3:eth3"]
  - endpoints: ["s2-spine2:eth5", "s2-leaf4:eth3"]
  - endpoints: ["s2-spine2:eth7", "s2-brdr1:eth3"]
  - endpoints: ["s2-spine2:eth8", "s2-brdr2:eth3"]
  ## server links
  - endpoints: ["s2-leaf1:eth4", "s2-host1:eth1"]
  - endpoints: ["s2-leaf2:eth4", "s2-host1:eth2"]
  - endpoints: ["s2-leaf3:eth4", "s2-host2:eth1"]
  - endpoints: ["s2-leaf4:eth4", "s2-host2:eth2"]

# dci links
  - endpoints: ["s1-brdr1:eth4", "s2-brdr1:eth4"]
  - endpoints: ["s1-brdr2:eth4", "s2-brdr2:eth4"]





